(()=>{"use strict";class e{constructor(e,t){this.container=document.querySelector(e),this.input=this.container.querySelector('input[type="range"]'),this.label=this.container.querySelector("label"),this.options=t,this.create(),this.initialize()}create(){this.output=document.createElement("output"),this.output.className="custom-range__value",this.output.textContent=`${this.input.value} ${this.options.unit}`;const e=document.createElement("div");e.className="custom-range__header",this.container.insertBefore(e,this.input),e.appendChild(this.label),e.appendChild(this.output);const t=document.createElement("div");t.className="custom-range__wrapper",this.container.insertBefore(t,this.input.nextSibling),t.appendChild(this.input),this.container.classList.add("custom-range")}initialize(){this.input.addEventListener("input",(()=>this.updateValue())),this.updateValue()}updateValue(){this.output.textContent=`${this.input.value} ${this.options.unit}`}}const t=class{constructor(e){this.isOpen=!1,this.config=e,this.element=document.querySelector(e.selector),this.nativeSelect=this.element.querySelector("select"),this.options=Array.from(this.nativeSelect.options),this.init()}init(){this.createCustomMarkup(),this.setupEventListeners(),this.syncNativeSelect()}createCustomMarkup(){const e=this.options.find((e=>e.selected))||this.options[0],t=document.createElement("div");t.className="custom-select__control",t.setAttribute("role","combobox"),t.setAttribute("aria-haspopup","listbox"),t.tabIndex=0,t.innerHTML=`\n        <span class="custom-select__placeholder">${(null==e?void 0:e.text)||this.config.placeholder}</span>\n    <svg class="icon"><use href="../img/svg/sprite.svg#arrow" /></svg>\n      `;const s=document.createElement("div");s.className="custom-select__options",s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","false"),this.options.forEach((e=>{const t=document.createElement("div");t.className="custom-select__option",t.setAttribute("role","option"),t.setAttribute("aria-selected","false"),t.textContent=e.text,t.dataset.value=e.value,s.appendChild(t)})),this.element.appendChild(t),this.element.appendChild(s)}setupEventListeners(){const e=this.element.querySelector(".custom-select__control"),t=this.element.querySelector(".custom-select__options");e.addEventListener("click",(()=>this.toggle())),e.addEventListener("keydown",(e=>this.handleControlKeydown(e))),t.addEventListener("click",(e=>this.handleOptionClick(e))),t.addEventListener("keydown",(e=>this.handleOptionKeydown(e))),document.addEventListener("click",(e=>this.handleClickOutside(e)))}toggle(){this.isOpen?this.close():this.open()}open(){var e,t;this.isOpen=!0,this.element.classList.add("custom-select__is-open"),this.element.querySelector(".custom-select__options").setAttribute("aria-expanded","true"),null===(t=(e=this.config).onOpen)||void 0===t||t.call(e)}close(){var e,t;this.isOpen=!1,this.element.classList.remove("custom-select__is-open"),this.element.querySelector(".custom-select__options").setAttribute("aria-expanded","false"),null===(t=(e=this.config).onClose)||void 0===t||t.call(e)}handleControlKeydown(e){["Enter"," ","ArrowDown","ArrowUp"].includes(e.key)&&(e.preventDefault(),this.toggle())}handleOptionClick(e){const t=e.target;t.classList.contains("custom-select__option")&&this.selectOption(t)}handleOptionKeydown(e){const t=e.target;"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.selectOption(t))}selectOption(e){var t,s;const n=e.dataset.value,i=e.textContent;this.element.querySelector(".custom-select__placeholder").textContent=i,this.options.forEach((e=>e.selected=e.value===n)),this.close(),null===(s=(t=this.config).onChange)||void 0===s||s.call(t,n)}handleClickOutside(e){this.element.contains(e.target)||this.close()}syncNativeSelect(){this.nativeSelect.classList.add("custom-select__native"),this.nativeSelect.addEventListener("change",(()=>{const e=this.options.find((e=>e.selected));this.element.querySelector(".custom-select__placeholder").textContent=(null==e?void 0:e.text)||""}))}};document.addEventListener("DOMContentLoaded",(()=>{const s=document.querySelector(".header__menu-button"),n=document.querySelector(".header__nav"),i=document.querySelector(".overlay");null==s||s.addEventListener("click",(()=>{null==n||n.classList.toggle("header__nav--active"),null==s||s.classList.toggle("header__menu-button--active"),null==i||i.classList.toggle("overlay--active")})),null==i||i.addEventListener("click",(()=>{null==n||n.classList.remove("header__nav--active"),null==s||s.classList.remove("header__menu-button--active"),null==i||i.classList.remove("overlay--active")})),new t({selector:".form__select"}),new e(".form__range",{unit:"%"})}))})();